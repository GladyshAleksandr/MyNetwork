(this["webpackJsonpfirst-node-project"]=this["webpackJsonpfirst-node-project"]||[]).push([[4],{286:function(t,e,o){"use strict";o.d(e,"a",(function(){return l}));var s=o(1),i=o(9),n=(o(0),o(13)),c=o(18),a=o(2),r=["isAuth"],u=function(t){return{isAuth:t.auth.isAuth}};function l(t){return Object(n.b)(u,{})((function(e){var o=e.isAuth;return Object(i.a)(e,r),o?Object(a.jsx)(t,Object(s.a)({},e)):Object(a.jsx)(c.a,{to:"/login"})}))}},290:function(t,e,o){t.exports={descriptionBlock:"ProfileInfo_descriptionBlock__35DDY",mainPhoto:"ProfileInfo_mainPhoto__2N7KG",contact:"ProfileInfo_contact__2VSQR"}},291:function(t,e,o){t.exports={postsBlock:"MyPosts_postsBlock__kSd9U",posts:"MyPosts_posts__3pffe"}},292:function(t,e,o){t.exports={item:"Post_item__1nFkb"}},294:function(t,e,o){"use strict";o.r(e);var s=o(1),i=o(36),n=o(37),c=o(39),a=o(38),r=o(0),u=o.n(r),l=o(13),j=o(5),b=o(83),d=o(290),h=o.n(d),p=o(2),v=function(t){var e=Object(r.useState)(!1),o=Object(j.a)(e,2),s=o[0],i=o[1],n=Object(r.useState)(t.status),c=Object(j.a)(n,2),a=c[0],u=c[1];Object(r.useEffect)((function(){u(t.status)}),[t.status]);return Object(p.jsxs)("div",{children:[!s&&Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"Status: "}),"  ",Object(p.jsx)("span",{onDoubleClick:function(){i(!0)},children:t.status||"------"})]}),s&&Object(p.jsx)("div",{children:Object(p.jsx)("input",{autoFocus:!0,onChange:function(t){u(t.currentTarget.value)},onBlur:function(){i(!1),t.updateStatus(a)},value:a})})]})},O=o(128),x=o(47),f=function(t){var e,o,s,i,n,c,a,r,u=t.handleSubmit,j=Object(l.d)((function(t){return t.profilePage.profile}));return Object(p.jsx)("div",{children:Object(p.jsx)(x.c,{initialValues:{lookingForAJob:null===j||void 0===j?void 0:j.lookingForAJob,fullname:null===j||void 0===j?void 0:j.fullname,aboutMe:null===j||void 0===j?void 0:j.aboutMe,lookingForAJobDescription:null===j||void 0===j?void 0:j.lookingForAJobDescription,photos:null===j||void 0===j?void 0:j.photos,iserId:null===j||void 0===j?void 0:j.userId,contacts:{github:null===j||void 0===j||null===(e=j.contacts)||void 0===e?void 0:e.github,vk:null===j||void 0===j||null===(o=j.contacts)||void 0===o?void 0:o.vk,facebook:null===j||void 0===j||null===(s=j.contacts)||void 0===s?void 0:s.facebook,instagram:null===j||void 0===j||null===(i=j.contacts)||void 0===i?void 0:i.instagram,twitter:null===j||void 0===j||null===(n=j.contacts)||void 0===n?void 0:n.twitter,website:null===j||void 0===j||null===(c=j.contacts)||void 0===c?void 0:c.website,youtube:null===j||void 0===j||null===(a=j.contacts)||void 0===a?void 0:a.youtube,mainLink:null===j||void 0===j||null===(r=j.contacts)||void 0===r?void 0:r.mainLink}},onSubmit:function(t){var e={lookingForAJob:t.lookingForAJob,fullname:t.fullname,contacts:{github:t.contacts.github,vk:t.contacts.vk,facebook:t.contacts.facebook,instagram:t.contacts.instagram,twitter:t.contacts.twitter,website:t.contacts.website,youtube:t.contacts.youtube,mainLink:t.contacts.mainLink},aboutMe:t.aboutMe,lookingForAJobDescription:t.lookingForAJobDescription,photos:t.photos,userId:t.userId};u(e)},children:function(t){var e=t.isSubmitting;return Object(p.jsxs)(x.b,{children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"Full name "})," ",Object(p.jsx)(x.a,{type:"text",name:"fullname"})]})," ",Object(p.jsx)("br",{}),Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"Looking for a job"})," ",Object(p.jsx)(x.a,{type:"checkbox",name:"lookingForAJob"})]})," ",Object(p.jsx)("br",{}),Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"Looking for a job description"})," ",Object(p.jsx)(x.a,{type:"text",name:"lookingForAJobDescription"})]})," ",Object(p.jsx)("br",{}),Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"About me "})," ",Object(p.jsx)(x.a,{type:"text",name:"aboutMe"})]})," ",Object(p.jsx)("br",{}),Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"Contacts"})," ",Object(p.jsx)("br",{}),Object(p.jsx)("div",{children:"github"}),Object(p.jsx)(x.a,{type:"text",name:"github"}),Object(p.jsx)("div",{children:"vk"}),Object(p.jsx)(x.a,{type:"text",name:"vk"}),Object(p.jsx)("div",{children:"facebook"}),Object(p.jsx)(x.a,{type:"text",name:"facebook"}),Object(p.jsx)("div",{children:"instagram"}),Object(p.jsx)(x.a,{type:"text",name:"instagram"}),Object(p.jsx)("div",{children:"twitter"}),Object(p.jsx)(x.a,{type:"text",name:"twitter"}),Object(p.jsx)("div",{children:"website"}),Object(p.jsx)(x.a,{type:"text",name:"website"}),Object(p.jsx)("div",{children:"youtube"}),Object(p.jsx)(x.a,{type:"text",name:"youtube"}),Object(p.jsx)("div",{children:"mainLink"}),Object(p.jsx)(x.a,{type:"text",name:"mainLink"})]})," ",Object(p.jsx)("br",{}),Object(p.jsx)("button",{type:"submit",disabled:e,children:"Save"})]})}})})},m=function(t){var e=t.profile,o=t.isOwner,s=t.goToEditMode;return Object(p.jsxs)("div",{children:[o&&Object(p.jsx)("div",{children:Object(p.jsx)("button",{onClick:s,children:"edit"})}),Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"Full name "}),": ",e.fullname]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"Looking  for  a job"}),": ",e.lookingForAJob?"yes":"no"]}),e.lookingForAJob&&Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"My professional skills "}),": ",e.lookingForAJobDescription]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"About me "}),": ",e.aboutMe]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"Contacts"}),": ",Object.keys(e.contacts?e.contacts:"").map((function(t){return Object(p.jsx)(k,{contactTitle:t,contactValue:e.contacts?e.contacts[t]:""},t)}))]})]})},k=function(t){var e=t.contactTitle,o=t.contactValue;return Object(p.jsxs)("div",{className:h.a.contact,children:[Object(p.jsx)("b",{children:e}),": ",o]})},g=function(t){var e,o=t.profile,s=t.isOwner,i=t.status,n=t.updateStatus,c=t.savePhoto,a=t.saveProfile,u=Object(r.useState)(!1),l=Object(j.a)(u,2),d=l[0],x=l[1];if(!o)return Object(p.jsx)(b.a,{});return Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:h.a.descriptionBlock,children:[Object(p.jsx)("img",{src:(null===(e=o.photos)||void 0===e?void 0:e.large)||O.a,className:h.a.mainPhoto}),s&&Object(p.jsx)("input",{type:"file",onChange:function(t){var e;(null===(e=t.target.files)||void 0===e?void 0:e.length)&&c(t.target.files[0])}}),Object(p.jsx)("br",{}),d?Object(p.jsx)(f,{handleSubmit:function(t){a(t).then((function(){x(!1)}))}}):Object(p.jsx)(m,{goToEditMode:function(){x(!0)},profile:o,isOwner:s}),Object(p.jsx)(v,{status:i,updateStatus:n})]})})},P=o(119),y=o(291),w=o.n(y),A=o(292),S=o.n(A),C=function(t){return Object(p.jsxs)("div",{className:S.a.item,children:[Object(p.jsx)("img",{src:"https://movies4maniacs.liberty.me/wp-content/uploads/sites/1218/2015/09/avatarsucks.jpg"}),t.message,Object(p.jsxs)("div",{children:[Object(p.jsx)("span",{children:"like"})," ",t.likesCount]})]})},_=function(t){var e=t.posts.map((function(t){return Object(p.jsx)(C,{message:t.message,likesCount:t.likesCount},t.id)})),o=u.a.useRef(null);return Object(p.jsxs)("div",{className:w.a.postsBlock,children:[Object(p.jsx)("h3",{children:"My posts"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{children:Object(p.jsx)("textarea",{ref:o,onChange:function(){var e,s=null===(e=o.current)||void 0===e?void 0:e.value;t.updateNewPostText(s)},value:t.newPostText})}),Object(p.jsx)("div",{children:Object(p.jsx)("button",{onClick:function(){t.addPost()},children:"Add post"})})]}),Object(p.jsx)("div",{className:w.a.posts,children:e})]})},F=Object(l.b)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),(function(t){return{addPost:function(){t(P.a.addPostActionCreator())},updateNewPostText:function(e){var o=P.a.updateNePostTextActionCreator(e);t(o)}}}))(_),T=function(t){return Object(p.jsxs)("div",{children:[Object(p.jsx)(g,{saveProfile:t.saveProfile,savePhoto:t.savePhoto,isOwner:t.isOwner,profile:t.profile,status:t.status,updateStatus:t.updateStatus}),Object(p.jsx)(F,{})]})},J=o(18),I=o(286),M=o(59),D=function(t){Object(c.a)(o,t);var e=Object(a.a)(o);function o(){return Object(i.a)(this,o),e.apply(this,arguments)}return Object(n.a)(o,[{key:"refreshProfile",value:function(){var t=+this.props.match.params.userId;t?(this.props.getUserProfileThunkCreator(t),this.props.getStatusThunkCreator(t)):this.props.history.push("/login")}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e){this.props.match.params.userId!=t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(p.jsx)("div",{children:Object(p.jsx)(T,Object(s.a)(Object(s.a)({},this.props),{},{profile:this.props.profile,isOwner:+this.props.match.params.userId===this.props.myId,status:this.props.status,updateStatus:this.props.updateStatusThunkCreator,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))})}}]),o}(u.a.Component);e.default=Object(M.c)(Object(l.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,myId:t.auth.myId}}),{getUserProfileThunkCreator:P.d,getStatusThunkCreator:P.c,updateStatusThunkCreator:P.g,savePhoto:P.e,saveProfile:P.f}),J.h,I.a)(D)}}]);
//# sourceMappingURL=4.f96c8f30.chunk.js.map